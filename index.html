<!DOCTYPE html>
<html lang="kk">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Ұстаздарға шақыру</title>
  <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;800&family=Playfair+Display:wght@600;700&display=swap" rel="stylesheet">
  <style>
    :root{
      --bg1:#ffecd2;--bg2:#fcb69f;--accent1:#ff4ecf;--accent2:#ffd54a;--glass: rgba(255,255,255,0.12);--text:#ffffff;--card-contrast: rgba(0,0,0,0.45);
    }
    *{box-sizing:border-box}
    html,body{height:100%}
    body{margin:0;font-family: 'Poppins', system-ui, -apple-system, 'Segoe UI', Roboto, 'Helvetica Neue', Arial;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;color:var(--text);background: radial-gradient(1200px 600px at 10% 10%, rgba(255,255,255,0.06), transparent 8%),radial-gradient(900px 400px at 90% 80%, rgba(255,255,255,0.04), transparent 8%),linear-gradient(135deg,var(--bg1),var(--bg2));overflow-x:hidden;}
    .scene{position:relative;min-height:100vh;display:flex;align-items:center;justify-content:center;padding:28px}
    .card{width:100%;max-width:920px;padding:28px;border-radius:22px;background:linear-gradient(180deg,var(--card-contrast), rgba(0,0,0,0.38));backdrop-filter: blur(10px);box-shadow: 0 10px 40px rgba(10,10,10,0.35), inset 0 1px 0 rgba(255,255,255,0.03);border:1px solid rgba(255,255,255,0.06);position:relative;overflow:hidden}
    .card:before, .card:after{content:"";position:absolute;pointer-events:none;filter:blur(18px);opacity:.95}
    .card:before{width:420px;height:140px;background:linear-gradient(90deg,var(--accent1),rgba(255,255,255,0));top:-60px;right:-120px;transform:rotate(18deg)}
    .card:after{width:340px;height:120px;background:linear-gradient(90deg, rgba(255,213,74,0.9), rgba(255,255,255,0));bottom:-50px;left:-100px;transform:rotate(-18deg)}
    .title{display:flex;align-items:center;gap:14px;margin:0 0 8px 0}
    .title h1{margin:0;font-family:'Playfair Display', serif;font-weight:700;font-size:clamp(28px,6vw,44px);line-height:1;letter-spacing: -0.02em;background:linear-gradient(90deg,var(--accent1),#ff9a9e 40%, #ffd54a 100%);-webkit-background-clip:text;background-clip:text;color:transparent;text-shadow: 0 6px 28px rgba(0,0,0,0.38)}
    .subtitle{margin:0;color:rgba(255,255,255,0.92);font-weight:600;font-size:14px}
    .quote{font-size:clamp(16px,4.5vw,22px);font-weight:600;margin:18px 0;color:#fff;opacity:0.98}
    .typewriter{display:inline-block;white-space:nowrap;border-right:3px solid rgba(255,255,255,0.9);animation:caret 1s steps(1) infinite}
    @keyframes caret{50%{border-color:transparent}}
    .info{display:grid;grid-template-columns:1fr 1fr;gap:14px;margin-top:14px}
    .panel{background:linear-gradient(180deg, rgba(255,255,255,0.02), rgba(255,255,255,0.01));padding:14px;border-radius:12px;border:1px solid rgba(255,255,255,0.04)}
    .panel h3{margin:0;font-size:14px;font-weight:700;color:rgba(255,255,255,0.95)}
    .panel p{margin:6px 0 0 0;font-size:16px;color:rgba(255,255,255,0.98)}
    .countdown{display:flex;gap:12px;align-items:center;justify-content:center;margin-top:18px}
    .timebox{min-width:88px;padding:10px 12px;border-radius:10px;background:rgba(255,255,255,0.04);backdrop-filter: blur(4px);text-align:center}
    .timebox .num{font-weight:800;font-size:clamp(18px,6vw,32px);text-shadow: 0 6px 18px rgba(0,0,0,0.45)}
    .timebox .lbl{font-size:12px;opacity:0.95;margin-top:6px}
    .actions{display:flex;gap:12px;justify-content:center;margin-top:20px}
    .btn{padding:12px 18px;border-radius:999px;font-weight:700;border:none;cursor:pointer;font-size:16px;box-shadow:0 8px 26px rgba(0,0,0,0.22);transition:transform .15s ease,box-shadow .15s ease}
    .btn.primary{background:linear-gradient(90deg,var(--accent1),#ff9a9e);color:#111}
    .btn.ghost{background:transparent;border:1px solid rgba(255,255,255,0.10);color:rgba(255,255,255,0.95)}
    .btn:active{transform:translateY(2px)}
    .note{margin-top:14px;text-align:center;opacity:0.95;font-size:14px}
    .stars{position:absolute;inset:0;pointer-events:none}
    .bubble{position:absolute;border-radius:999px;opacity:0.08;filter:blur(14px);pointer-events:none}

    /* FINAL SCREEN STYLES (fixed contrast + lively but simple) */
    #final{display:none;min-height:100vh;align-items:center;justify-content:center;padding:28px;background:linear-gradient(180deg, rgba(0,0,0,0.55), rgba(0,0,0,0.45));}
    .finalCard{max-width:900px;margin:0 auto;padding:28px;border-radius:20px;background:linear-gradient(180deg, rgba(0,0,0,0.72), rgba(10,10,10,0.6));box-shadow:0 20px 60px rgba(0,0,0,0.6);border:1px solid rgba(255,255,255,0.04);text-align:center}
    .finalTitle{font-family:'Playfair Display', serif;font-size:clamp(28px,8vw,56px);font-weight:800;line-height:1.02;color:#fff;text-shadow:0 10px 30px rgba(0,0,0,0.7)}
    .finalSubtitle{margin-top:12px;font-size:20px;color:rgba(255,255,255,0.95)}

    /* subtle confetti pieces (CSS-based) */
    .confetti{position:absolute;inset:0;pointer-events:none;overflow:hidden}
    .confetti-piece{position:absolute;width:10px;height:14px;border-radius:2px;opacity:0.95;transform-origin:center;will-change:transform,top;animation:fall 2200ms linear forwards}
    @keyframes fall{0%{transform:translateY(-10vh) rotate(0deg) scale(1)}50%{transform:translateY(30vh) rotate(180deg) scale(1.05)}100%{transform:translateY(110vh) rotate(360deg) scale(.9)} }

    @media(max-width:560px){:root{--card-contrast: rgba(0,0,0,0.62)}.card{padding:20px;border-radius:16px}.quote{font-size:18px}.timebox{min-width:72px;padding:10px}.actions{gap:10px}.btn{padding:12px 16px;font-size:16px}}
    @media (prefers-contrast: more){:root{--card-contrast: rgba(0,0,0,0.75)}.title h1{filter:brightness(1.05)}}
  </style>
</head>
<body>
  <div class="scene">
    <div class="card" role="main" aria-labelledby="mainTitle">
      <svg class="stars" viewBox="0 0 1200 600" preserveAspectRatio="none" aria-hidden>
        <defs><linearGradient id="g1" x1="0" x2="1"><stop offset="0" stop-color="#fff" stop-opacity="0.9"/><stop offset="1" stop-color="#ffd54a" stop-opacity="0.6"/></linearGradient></defs>
        <circle cx="60" cy="40" r="2.5" fill="#fff" opacity="0.9"><animate attributeName="cy" dur="8s" values="40;20;40" repeatCount="indefinite"/></circle>
        <circle cx="220" cy="120" r="3" fill="#fff" opacity="0.95"><animate attributeName="cx" dur="10s" values="220;230;220" repeatCount="indefinite"/></circle>
        <circle cx="520" cy="60" r="2" fill="#fff" opacity="0.85"><animate attributeName="cy" dur="7s" values="60;80;60" repeatCount="indefinite"/></circle>
      </svg>

      <div class="title"><h1 id="mainTitle">Ұстаз – жұлдыз ✨</h1></div>
      <p class="subtitle quote" id="quoteText"> </p>

      <div class="info" aria-hidden="false">
        <div class="panel"><h3>Күні</h3><p id="date">5 қазан 2025</p></div>
        <div class="panel"><h3>Уақыты & Орыны</h3><p id="time">15:00 — Акт залы</p></div>
      </div>

      <div class="countdown" aria-live="polite">
        <div class="timebox"><div class="num" id="d">00</div><div class="lbl">Күн</div></div>
        <div class="timebox"><div class="num" id="h">00</div><div class="lbl">Сағ</div></div>
        <div class="timebox"><div class="num" id="m">00</div><div class="lbl">Мин</div></div>
        <div class="timebox"><div class="num" id="s">00</div><div class="lbl">Сек</div></div>
      </div>

      <div class="actions">
        <button id="moreBtn" class="btn primary" aria-controls="final">Келемін</button>
        <button id="shareBtn" class="btn ghost" title="Сілтеме бөлісу">Сілтемені көшіру</button>
      </div>

      <p class="note">Концерттік бағдарлама білім алушылар дайындаған. Кіріс — тегін. Сұрақтар болса, ұйымдастырушыларға хабарласыңыз.</p>
    </div>

    <div class="bubble" style="width:220px;height:220px;right:-40px;top:30px;background:linear-gradient(90deg, rgba(255,78,207,0.18), rgba(255,213,74,0.06));"></div>
    <div class="bubble" style="width:160px;height:160px;left:-30px;bottom:40px;background:linear-gradient(90deg, rgba(166,193,238,0.14), rgba(255,152,220,0.06));"></div>
  </div>

  <div id="final">
    <div class="finalCard" role="region" aria-label="Қорытынды">
      <div class="finalTitle">Бұл күн — Сіздерге арналады!</div>
      <div class="finalSubtitle">Біз сіздерді жақсы көреміз ❤️. Келгеніңіз бізге үлкен қуаныш.</div>
      <div class="confetti" id="confettiContainer" aria-hidden="true"></div>
    </div>
  </div>

  <script>
    const quoteText = "Ұстаздар, сіздерді білім алушылар дайындаған концерттік бағдарламаға шақырамыз!";
    const quoteEl = document.getElementById('quoteText');
    let i = 0;
    function type() { if (i <= quoteText.length) { quoteEl.textContent = quoteText.slice(0, i); i++; setTimeout(type, 28); } else { quoteEl.classList.remove('typewriter'); } }
    setTimeout(()=>{ quoteEl.classList.add('typewriter'); type(); }, 600);

    const eventISO = '2025-10-05T15:00:00+06:00';
    const eventTime = new Date(eventISO).getTime();
    const els = {d:document.getElementById('d'), h:document.getElementById('h'), m:document.getElementById('m'), s:document.getElementById('s')};
    function updateCountdown(){ const now = Date.now(); let diff = Math.max(0, eventTime - now); const days = Math.floor(diff / (1000*60*60*24)); diff -= days*(1000*60*60*24); const hours = Math.floor(diff / (1000*60*60)); diff -= hours*(1000*60*60); const mins = Math.floor(diff / (1000*60)); diff -= mins*(1000*60); const secs = Math.floor(diff/1000); els.d.textContent = String(days).padStart(2,'0'); els.h.textContent = String(hours).padStart(2,'0'); els.m.textContent = String(mins).padStart(2,'0'); els.s.textContent = String(secs).padStart(2,'0'); }
    updateCountdown(); setInterval(updateCountdown, 1000);

    document.getElementById('shareBtn').addEventListener('click', async ()=>{ try{ await navigator.clipboard.writeText(location.href); alert('Сілтеме көшірілді — жіберіңіз.'); } catch(e){ prompt('Сілтемені көшіріп алыңыз:', location.href); } });

    // Show final with strong contrast + confetti pieces
    document.getElementById('moreBtn').addEventListener('click', ()=>{
      document.querySelector('.scene').style.display = 'none';
      document.getElementById('final').style.display = 'flex';
      window.scrollTo({top:0,behavior:'smooth'});
      // spawn small confetti pieces for 2.5s
      spawnConfetti(30);
    });

    function spawnConfetti(count){
      const container = document.getElementById('confettiContainer');
      const colors = ['#ff4ecf','#ffd54a','#4dd9ff','#76ff7a','#ff7a7a'];
      for(let i=0;i<count;i++){
        const z = document.createElement('div');
        z.className='confetti-piece';
        const left = Math.random()*100; const size = 6 + Math.random()*14;
        z.style.left = left + '%'; z.style.width = size+'px'; z.style.height = (size*1.3)+'px';
        z.style.background = colors[Math.floor(Math.random()*colors.length)];
        z.style.top = (-10 - Math.random()*20)+'vh';
        z.style.animationDelay = (Math.random()*800)+'ms'; z.style.transform = 'rotate('+(Math.random()*360)+'deg)';
        container.appendChild(z);
      }
      // cleanup after animation
      setTimeout(()=>{ while(container.firstChild) container.removeChild(container.firstChild); }, 3500);
    }

    document.addEventListener('keydown', e=>{ if(e.key==='Enter') document.getElementById('moreBtn').click(); });
    function adaptContrast(){ if(window.innerWidth < 560) document.documentElement.style.setProperty('--card-contrast','rgba(0,0,0,0.62)'); else document.documentElement.style.setProperty('--card-contrast','rgba(0,0,0,0.45)'); }
    adaptContrast(); window.addEventListener('resize', adaptContrast);
  </script>
</body>
</html>

